(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{420:function(t,e,o){var content=o(470);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(13).default)("2bffaad4",content,!0,{sourceMap:!1})},469:function(t,e,o){"use strict";var n=o(420);o.n(n).a},470:function(t,e,o){(t.exports=o(12)(!1)).push([t.i,".blog-image-upload{max-width:100%;overflow:hidden}textarea{height:100%}",""])},533:function(t,e,o){"use strict";o.r(e);o(77),o(78),o(4),o(44),o(402),o(55);var n=o(17),r=o(15),l=o.n(r),d={layout:"admin-panel",middleware:"authenticated",data:function(){return{dialog:!1,valid:!1,headers:[{text:"Title",align:"left",sortable:!1,value:"title"},{text:"Status",align:"left",sortable:!0,value:"status"},{text:"Date",align:"left",sortable:!0,value:"date"},{text:"Actions",value:"action",sortable:!1}],statusOptions:["DRAFT","PUBLISHED"],posts:[],editedIndex:-1,date:(new Date).toISOString().substr(0,10),menu1:!1,dateFormatted:"",pagination:{page:1,rowsPerPage:10},loading:!1,editedItem:{title:"",body:"",excerpt:"",status:"DRAFT",slug:"",category:"General",date:(new Date).toISOString(),coverPhotoUrl:""},defaultItem:{title:"",body:"",excerpt:"",status:"DRAFT",slug:"",category:"General",date:(new Date).toISOString(),coverPhotoUrl:""},formRules:{title:{rules:[function(t){return!!t||"Title is required"}]},slug:{rules:[function(t){return!!t||"Slug is required"}]},body:{rules:[function(t){return!!t||"Body is required"}]},excerpt:{rules:[function(t){return!!t||"Excerpt is required"}]},status:{rules:[function(t){return!!t||"Status is required"}]},date:{rules:[function(t){return!!t||"Date is required"}]},coverPhotoUrl:{rules:[function(t){return!!t||"Cover Photo Url is required"}]}},categories:["Frontend","Backend","Architecture","General","Career","Project Management","Lifestyle","Mobile"]}},computed:{formTitle:function(){return-1===this.editedIndex?"New Post":"Edit Post"},computedPosts:function(){if(this.$store.state.blog.postListResponse)return this.$store.state.blog.postListResponse.content||[]},token:function(){return this.$store.state.auth.auth},computedDateFormatted:function(){return this.formatDate(this.date)},totalPostSize:function(){if(this.$store.state.blog.postListResponse)return this.$store.state.blog.postListResponse.totalElements||0}},watch:{dialog:function(t){t||this.close()},date:function(t){this.editedItem.date=this.formatDate(this.date)},pagination:{handler:function(){this.initialize()},deep:!0}},created:function(){this.initialize(),this.defaultItem.slug=this.computedSlug,l.a.defaults.headers.common.Authorization="Bearer "+this.token},methods:{initialize:function(){var t=this;this.loading=!0;var e={sort:"date,desc"};e.size=this.pagination.rowsPerPage,e.page=this.pagination.page-1,this.$store.dispatch("blog/fetchPosts",{token:this.$store.state.auth.auth,pagination:e}).then((function(e){t.loading=!1})).catch((function(e){t.loading=!1}))},editItem:function(t){this.editedIndex=this.computedPosts.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem:function(t){var e=this;if(confirm("Are you sure you want to delete this post?"))return l.a.delete("/posts/"+t.id).then((function(t){e.initialize()})).catch((function(t){}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},save:function(){var t=this;return(this.editedIndex>-1?l.a.put("/posts",this.editedItem):l.a.post("/posts",{title:this.editedItem.title,slug:this.editedItem.slug,body:this.editedItem.body,excerpt:this.editedItem.excerpt,status:this.editedItem.status,category:this.editedItem.category,date:this.editedItem.date,coverPhotoUrl:this.editedItem.coverPhotoUrl})).then((function(e){t.initialize(),t.close()})).catch((function(e){t.close()}))},formatDate:function(t){if(!t)return null;var e=(t=t.substr(0,10)).split("-"),o=Object(n.a)(e,3),r=o[0],l=o[1],d=o[2];return"".concat(r,"-").concat(l,"-").concat(d)+"T12:01:14.915Z"},parseDate:function(t){if(!t)return null;var e=(t=t.substr(0,10)).split("-"),o=Object(n.a)(e,3),r=o[0],l=o[1],d=o[2];return"".concat(r,"-").concat(l.padStart(2,"0"),"-").concat(d.padStart(2,"0"))+"T12:01:14.915Z"},getSlugFromTitle:function(title){return title.toString().toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}}},c=(o(469),o(41)),m=o(67),v=o.n(m),f=o(149),h=o(131),x=o(54),I=o(471),y=o(450),_=o(523),w=o(522),k=o(520),P=o(431),S=o(440),T=o(508),D=o(439),$=o(427),C=o(509),V=o(33),R=o(56),component=Object(c.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.computedPosts,"server-items-length":t.totalPostSize,page:t.pagination.page,"items-per-page":t.pagination.rowsPerPage},on:{"update:page":function(e){return t.$set(t.pagination,"page",e)}},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",[t._v("Blog")]),t._v(" "),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),o("div",{staticClass:"flex-grow-1"}),t._v(" "),o("v-dialog",{attrs:{"max-width":"100vw"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},n),[t._v("New Post")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-text-field",{attrs:{label:"Title"},model:{value:t.editedItem.title,callback:function(e){t.$set(t.editedItem,"title",e)},expression:"editedItem.title"}})],1),t._v(" "),o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-text-field",{attrs:{set:t.editedItem.slug=t.getSlugFromTitle(t.editedItem.title),label:"Slug"},model:{value:t.editedItem.slug,callback:function(e){t.$set(t.editedItem,"slug",e)},expression:"editedItem.slug"}})],1),t._v(" "),o("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[o("v-textarea",{attrs:{outlined:"","auto-grow":"true",label:"Body"},model:{value:t.editedItem.body,callback:function(e){t.$set(t.editedItem,"body",e)},expression:"editedItem.body"}})],1),t._v(" "),o("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[o("div",{attrs:{label:"Body Preview"},domProps:{innerHTML:t._s(t.$md.render(t.editedItem.body))}})]),t._v(" "),o("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[o("v-textarea",{attrs:{outlined:"","auto-grow":"true",label:"Excerpt"},model:{value:t.editedItem.excerpt,callback:function(e){t.$set(t.editedItem,"excerpt",e)},expression:"editedItem.excerpt"}})],1),t._v(" "),o("v-col",{attrs:{cols:"6",sm:"6",md:"6"}},[o("div",{attrs:{label:"Excerpt Preview"},domProps:{innerHTML:t._s(t.$md.render(t.editedItem.excerpt))}})]),t._v(" "),o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"",lazy:"","full-width":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[o("v-text-field",t._g({attrs:{label:"Date",hint:"YYYY/MM/DD format","persistent-hint":"",set:t.date=t.parseDate(t.editedItem.date)},model:{value:t.editedItem.date,callback:function(e){t.$set(t.editedItem,"date",e)},expression:"editedItem.date"}},n))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[t._v(" "),o("v-date-picker",{attrs:{"no-title":""},on:{input:function(e){t.menu1=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-select",{attrs:{items:t.statusOptions,rules:t.formRules.body.rules,label:"Status",outlined:""},model:{value:t.editedItem.status,callback:function(e){t.$set(t.editedItem,"status",e)},expression:"editedItem.status"}})],1),t._v(" "),o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-text-field",{attrs:{label:"Cover Photo URL"},model:{value:t.editedItem.coverPhotoUrl,callback:function(e){t.$set(t.editedItem,"coverPhotoUrl",e)},expression:"editedItem.coverPhotoUrl"}})],1),t._v(" "),o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-select",{attrs:{items:t.categories,label:"category",outlined:""},model:{value:t.editedItem.category,callback:function(e){t.$set(t.editedItem,"category",e)},expression:"editedItem.category"}})],1)],1)],1)],1),t._v(" "),o("v-card-actions",[o("div",{staticClass:"flex-grow-1"}),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[o("v-btn",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(n)}}},[t._v("edit")]),t._v(" "),o("v-btn",{attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v("delete")])]}},{key:"no-data",fn:function(){return[o("v-btn",{attrs:{color:"primary"},on:{click:t.initialize}},[t._v("Reset")])]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{VBtn:f.a,VCard:h.a,VCardActions:x.a,VCardText:x.b,VCardTitle:x.c,VCol:I.a,VContainer:y.a,VDataTable:_.a,VDatePicker:w.a,VDialog:k.a,VDivider:P.a,VMenu:S.a,VRow:T.a,VSelect:D.a,VTextField:$.a,VTextarea:C.a,VToolbar:V.a,VToolbarTitle:R.b})}}]);